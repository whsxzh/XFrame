 {_INCLUDE header.html}
  <style type="text/css">  	
  	/*.yqm_tr th{line-height: 30px;}*/
  	.yqm-table.table-bordered tbody th,.yqm-table.table-bordered tbody td{text-align: center;line-height: 30px;}
  	.content-wrapper, .right-side{background: none;}
  	.table-striped>tbody>tr:nth-of-type(odd){background: rgba(0,0,0,0.1);}
  	.table-striped>tbody>tr:nth-of-type(even){background: none;}
  	.yqm-table{color: white;border:1px solid rgba(255,255,255,0.2);border-left: none;border-right: none;}
  	.yqm-table.table-bordered tbody th, .yqm-table.table-bordered tbody td{border-color:rgba(255,255,255,0.2);}
  	.box{border: none;background: rgba(0,0,0,0.2);}
  	.box-title{color: white;font-size: 16px !important;}
  	.box-header.with-border{border-bottom: 1px solid rgba(255,255,255,0.2);}
  	input:focus{outline: none;}
  	.big-money{width: 60%;}
  </style>
<div class="content-wrapper">
	<!-- Main content -->
	<section class="content1">
		<div class="row">
			<div class="col-md-12 col-xs-12">
				<div class="col-md-6 col-sm-12 col-xs-12 account-left">
					<div class="col-md-3 col-sm-3 col-xs-3 accout-left-img block-no"><img src="./view/stylesheet/img/bigmoney.png" class="big-money" /></div>
					<div class="col-md-9 col-sm-9 col-xs-9 accout-left-mbox">
						<div class="account-mbox-top">
							<div class="accout-yue">账号余额</div>
							<div class="clearfix">
								<div class="accout-balance">&yen;{_merchant_info.money}</div>
								<!-- <a href="#" class="accout-balance-detail accout-mx">明细</a> -->
							</div>
						</div>
						<div class="clearfix accout-tx-box">
							<div class="accout-tx-money">可提现：<span>{_merchant_info.availabe_money}</span>元</div>
							{_IF withdraw=1}
							<a href="{_merchantWithdrawUrl}&merchant_id={_merchant_info.merchant_id}" class="accout-balance-detail accout-tx" >提现</a>
							{ENDIF}
						</div>
					</div>
				</div>
				<div class="col-md-6 col-sm-12 col-xs-12 xzsl-box" style="padding-right: 0;">
					<div class="col-md-12 col-xs-12 accout-right-box">
						<div class="col-md-6 col-xs-3 accout-xz-name hides">新增数量</div>
						<div class="col-md-2 col-xs-3 accout-tab active" id="today-data">今天</div>
						<div class="col-md-2 col-xs-3 accout-tab" id="yesterday-data">昨天</div>
						<div class="col-md-2 col-xs-3 accout-tab">
			                <input type="text" placeholder="选择时间" class="form-control pull-right choose-time" id="datepicker" style="height: 44px;">
						</div>
					</div>
					<div class="col-md-12 col-xs-12 accout-right-btm">
						<div class="col-md-4 col-xs-12 accout-libox">
							<input type="text" class="knob" value="{_today_orders}" data-thickness="0.1" data-width="140" data-height="140"  data-fgColor="#01c6fb" readonly="readonly" id="data-orders">
							<div class="accout-allorder">总订单：{_all_orders}</div>
						</div>
						<div class="col-md-4 col-xs-12 accout-libox">
							<input type="text" class="knob" value="{_today_income}" data-thickness="0.1" data-width="140" data-height="140" data-fgColor="#ffb307" readonly="readonly" id="data-income">
							<div class="accout-allorder">总收入：{_all_income}</div>
						</div>
						<div class="col-md-4 col-xs-12 accout-libox">
							<input type="text" class="knob" value="{_today_customers}" data-thickness="0.1" data-width="140" data-height="140" data-fgColor="#ff73a0" readonly="readonly" id="data-customers">
							<div class="accout-allorder">总用户数：{_all_customers}</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!--table-->
		<div class="box yqm-box">
			<div class="box-header" style="color: white;background: rgba(0,0,0,0.05);">
				<i class="fa fa-file-text-o icon-font"></i>
				<h6 class="box-title">企业邀请码</h6>
				
				<!--<span style="padding-left: 5%;">订单收入（5554.00）</span>
				<span style="padding-left: 1%;">返利收入（5000.00）</span>-->
			</div>
			<!-- /.box-header -->
			<div class="box-body box-auto" style="padding: 0;">
				
				 <table id="example1" class="table table-bordered table-hover table-striped yqm-table">
                <thead>
                <tr>
                <th>邀请码</th>
                <th>流量方</th>
							<th>有效用户</th>
							<th>有效订单数</th>
							<th>订单金额</th>
							<!--<th>返利</th>-->
							
                 
                </tr>
                </thead>
                <tbody>
                
               {_FOREACH invitecode_info}
						<tr>
							<td title="{_invitecode}"><span><a href="http://haiqihuocang.cn/becomeInvite.php?id={_invitecode_id}" target="_blank">{_invitecode}</a></span></td>
							<td title="{_lastname}">{_lastname}</td>
							
							<td title="{_cnum}">{_cnum}</td>
							<td title="{_onum}" style="color: #e4dc71;">{_onum}</td>
							<td title="{_ototlal}">{_ototlal} 
								
							</td>
							<!--<td title="{_rttotle}">{_rttotle} -->
								
							</td>

						
						</tr>
						{ENDFOR}
               
                </tbody>
                <tfoot>
                <tr>
                  <th>合计:</th>
                  <th>{_total_inv.invitecode_id}</th>
                  <th>{_total_inv.cnum}</th>
                  <th>{_total_inv.onum}</th>
                  <th>{_total_inv.ototlal}</th>
                 <!-- <th>{_total_inv.rttotle}</th>-->
                </tr>
                </tfoot>
              </table>
			<!--	<table id="example1" class="table table-bordered table-striped yqm-table">
						<tr class="yqm_tr">
							<th>邀请码</th>
							<th>使用人数</th>
							<th>今日单数</th>
							<th>总单数</th>
							<th>今日收入</th>
							<th>总收入</th>
							<th class="block-no">失效时间</th>
							<th class="block-no">创建时间</th>
							<th class="block-no">备注</th>
							<th class="block-no">操作</th>
						</tr>
						<tr>
							<td title="{_invitecode}"><span>{_invitecode}</span></td>
							<td title="{_times}">{_times}</td>
							<td title="{_today_orders}" style="color:#2080ff;">{_today_orders}</td>
							<td title="{_all_orders}">{_all_orders}</td>
							<td title="{_today_income}" style="color: #e4dc71;">{_today_income}</td>
							<td title="{_all_income}">{_all_income} 
								 <a href="#" title="更多" style="font-size: 18px;margin-left: 3%;">»</a> 
							</td>
							<td class="block-no">{_end_date}</td>
							<td class="block-no">{_date_added}</td>
							<td class="block-no" title="{_remark}">{_remark}</td>
							<td class="block-no">
								<a class="btn btn-main btn-xs edit-invte-remark" href="#" data-toggle="modal" data-target="#agent-infor" data-id="{_invitecode_id}">编辑</a>
							</td>
						</tr>
						
				</table>-->
			
			</div>
			<!-- /.box-body -->
		</div>

		<!--chart-->
		<section class="content1">
			<div class="row">
				<!--收入金额统计-->
				<div class="col-md-6 chart-box">
					<div class="box box-info">
						<div class="box-header with-border" style="background: rgba(0,0,0,0.1);">
							<i class="fa fa-bar-chart-o icon-font"></i>
							<h3 class="box-title">收入金额统计</h3>
							<h3 class="box-title">（合计金额：</h3>
							<h3 class="box-title" id="total_income">{_chart_data.total_income}</h3>
							<h3 class="box-title">）</h3>
							<div class="box-tools pull-right" style="position: absolute;">
								<input type="text" placeholder="选择时间" class="pull-right date-money" id="datepicker-money">
								<i class="fa fa-chevron-down dt-down"></i>
							</div>
						</div>
						<div class="box-body chart-responsive">
							<div class="chart" id="line-chart-income" style="height: 300px;"></div>
						</div>
					</div>
				</div>
				
				<!--会员数统计-->
				<div class="col-md-6 chart-box">
					<div class="box box-info">
						<div class="box-header with-border">
							<i class="fa  fa-line-chart icon-font"></i>
							<h3 class="box-title">会员数统计</h3>
							<h3 class="box-title" >（合计会员：</h3>
							<h3 class="box-title" id="total_customers">{_chart_data.total_customers}</h3>
							<h3 class="box-title" >）</h3>
							<div class="box-tools pull-right" style="position: absolute;">
								<input type="text" placeholder="选择时间" class="pull-right date-money" id="datepicker-number">
								<i class="fa fa-chevron-down dt-down"></i>
							</div>
						</div>
						<div class="box-body chart-responsive">
							<div class="chart" id="line-chart-customer" style="height: 300px;"></div>
						</div>
					</div>
				</div>
				<!-- 订单量统计 -->
				<div class="col-md-6 chart-box">
					<div class="box box-info">
						<div class="box-header with-border">
							<i class="fa  fa-signal icon-font"></i>
							<h3 class="box-title">订单量统计</h3>
							<h3 class="box-title" >（合计订单量：</h3>
							<h3 class="box-title" id="total_orders">{_chart_data.total_orders}</h3>
							<h3 class="box-title" >）</h3>
							<div class="box-tools pull-right">
								<input type="text" placeholder="选择时间" class="pull-right date-money" id="datepicker-order">
								<i class="fa fa-chevron-down dt-down"></i>
							</div>
						</div>
						<div class="box-body chart-responsive">
							<div class="chart" id="line-chart-order" style="height: 300px;"></div>
						</div>
					</div>
				</div>

				<!-- 商品统计量 -->
				<div class="col-md-6 chart-box">
					<div class="box box-info">
						<div class="box-header with-border">
							<i class="fa fa-edit icon-font"></i>
							<h3 class="box-title">新增商品统计</h3>
							<h3 class="box-title" >（合计商品数：</h3>
							<h3 class="box-title" id="total_products">{_chart_data.total_products}</h3>
							<h3 class="box-title" >）</h3>
							<div class="box-tools pull-right">
								<input type="text" placeholder="选择时间" class="pull-right date-money" id="datepicker-product">
								<i class="fa fa-chevron-down dt-down"></i>
							</div>
						</div>
						<div class="box-body chart-responsive">
							<div class="chart" id="line-chart-product" style="height: 300px;"></div>
						</div>
					</div>
				</div>
			</div>
		</section>

	</section>
	<!-- /.content -->
</div>
<!-- /.content-wrapper -->

<!--代理信息弹框-->
<div class="modal fade" id="agent-infor" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
				<h4 class="modal-title" id="">编辑备注</h4>
			</div>
			<div class="modal-body">
				<form>				
				<input type="text" value="邀请码备注" id="invitecode-remark" class="form-control express-input">
				</from>
			</div>

			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
				<button type="button" class="btn btn-save" id="express-save">保存</button>
			</div>
		</div>
	</div>
</div>
{_INCLUDE footer.html}

<script type="text/javascript">
	$(function(){
		
		// 获取邀请码备注信息
		$(".edit-invte-remark").click(function(){
			var url = "{_getInvitecodeRemarkUrl}";
			var invitecode_id = $(this).attr("data-id");
			$.ajax({
				url: url,
				type: 'post',
				dataType: 'json',
				data: { 'invitecode_id': invitecode_id },
				success: function(data) {
					var html = '<input type="hidden" value="'+data.data.invitecode_id+'" id="invitecode-id">';
					$(".modal-body").append(html);
					document.getElementById("invitecode-remark").value = data.data.remark;
				}
			})
		})

		// 编辑保存邀请码备注
		$(".btn-save").click(function(){
			var url = "{_saveInvitecodeRemarkUrl}";
			var invitecode_id = $("#invitecode-id").val();
			var invitecode_remark = $("#invitecode-remark").val();
			$.ajax({
				url: url,
				type: 'post',
				dataType: 'json',
				data: { 'invitecode_id': invitecode_id,'invitecode_remark':invitecode_remark },
				success: function(data) {
					$("#agent-infor").modal('hide');
					location.reload();
				}
			})
		})

	});


</script>
<script type="text/javascript">

var count = 1;
$("#datepicker-yqm").change(function(){
	count++;
	if(2 == count){
		//$("#example1").DataTable();
	}
});
	// 处理某个日期的统计数据
	var count = 1;
	$("#datepicker").change(function(){
		count++;
		if(1 == count){
	        // 处理今天的统计数据
			var somedate = document.getElementById("datepicker").value;
			var url = "{_getSomedayDataUrl}";
			$.ajax({
		        url: url,
		        type: 'post',
		        data: {somedate:somedate},
		        dataType: 'json',
		        success: function (data) {
		        	console.log(data);
			        document.getElementById("data-orders").value = data.data.somedate_orders;
			        document.getElementById("data-income").value = data.data.somedate_income;
			        document.getElementById("data-customers").value = data.data.somedate_customers;
		        },
		        error:function(){
		          alert("请求失败");
		        }
		    });
		}else{
			count = 0;
		}		
    })

	$(function() {
		// ajax请求的地址

		$("#example1").DataTable({
      "paging": true,
      "lengthChange": false,
      "searching": true,
      "ordering": true,
      "info": true,
      "autoWidth": true
    });

		var url = "{_getChartDataUrl}";

		$('.accout-tab').on('click',function(){
			$(this).addClass('active').siblings().removeClass('active');
		});

		//时间插件
		$('#datepicker').datepicker({
	      autoclose: true
	    });
			
		 //邀请码
	    $('#datepicker-yqm').daterangepicker({
	      	autoclose: true
		},function(start, end, label){
			alert('开发中'+count);
			var str=' <thead>'+
		                '<tr>'+
		                '<th>Rendering engine</th>'+
		                '<th>Browser</th>'+
		                '<th>Platform(s)</th>'+
		                '<th>Engine version</th>'+
		                '<th>CSS grade</th>'+
		                '</tr>'+
		                '</thead>'+
		                '<tbody>'+
		                '<tr>'+
		                '<td>Trident</td>'+
		                '<td>Internet'+
		                'Explorer 4.0'+
		                '</td>'+
		                '<td>Win 95+</td>'+
		                '<td> 4</td>'+
		                '<td>X</td>'+
		                '</tr>'+
		                '</tbody>'+
		                '<tfoot>'+
		                '<tr>'+
		                '<th>Rendering engine</th>'+
		                '<th>Browser</th>'+
		                '<th>Platform(s)</th>'+
		                '<th>Engine version</th>'+
		                '<th>CSS grade</th>'+
		                '</tr>'+
		                '</tfoot>';
			$("#example1").html(str);

		});

	    //收入
	    $('#datepicker-money').daterangepicker({
	      	autoclose: true
	    }, function(start, end, label) {
  			// 发送ajax请求给服务器
			$.ajax({
		        url: url,
		        type: 'post',
		        data: {start_date:start.format('YYYY-MM-DD'), end_date:end.format('YYYY-MM-DD'), data_type:'income'},
		        dataType: 'json',
		        success: function (data) {
		        	// 更新汇总数据
		        	$("#total_income").html(data.data.total_income);

		        	// 创建折线图
		        	if(data.code == 1){
						var line = new Morris.Line({
							element: 'line-chart-income',
							resize: true,
							data: data.data.income,
							xkey: 'd',
							ykeys: ['item'],
							labels: ['收入金额'],
							lineColors: ['#09c7fb'],
							gridTextColor: 'rgba(255,255,255,0.8)',
							pointStrokeColors: [''],
							pointFillColors: ['#09c7fb'],
							hideHover: 'auto'
						});
					}else{
						alert(data.msg);
					}
		        },
		        error:function(){
		            alert("请求失败");
		        }
		    });
		});
	 	
	     //会员
	    $('#datepicker-number').daterangepicker({
	      autoclose: true
	    }, function(start, end, label) {
  			// 发送ajax请求给服务器
			$.ajax({
		        url: url,
		        type: 'post',
		        data: {start_date:start.format('YYYY-MM-DD'), end_date:end.format('YYYY-MM-DD'), data_type:'customer'},
		        dataType: 'json',
		        success: function (data) {
		        	// 更新汇总数据
		        	$("#total_customers").html(data.data.total_customers);

		        	// 创建折线图
		        	if(data.code == 1){
						var line = new Morris.Line({
							element: 'line-chart-customer',
							resize: true,
							data: data.data.customers,
							xkey: 'd',
							ykeys: ['item'],
							labels: ['新增会员'],
							lineColors: ['#54d96e'],
							gridTextColor: 'rgba(255,255,255,0.8)',
							pointStrokeColors: [''],
							pointFillColors: ['#54d96e'],
							hideHover: 'auto'
						});
					}else{
						alert(data.msg);
					}
		        },
		        error:function(){
		            alert("请求失败");
		        }
		    });
		});
	 
	     //订单
	    $('#datepicker-order').daterangepicker({
	      autoclose: true
	    }, function(start, end, label) {
  			// 发送ajax请求给服务器
			$.ajax({
		        url: url,
		        type: 'post',
		        data: {start_date:start.format('YYYY-MM-DD'), end_date:end.format('YYYY-MM-DD'), data_type:'order'},
		        dataType: 'json',
		        success: function (data) {
		        	$("#total_orders").html(data.data.total_orders);
		        	// 创建折线图
		        	if(data.code == 1){
						var line = new Morris.Line({
							element: 'line-chart-order',
							resize: true,
							data: data.data.orders,
							xkey: 'd',
							ykeys: ['item'],
							labels: ['订单数量'],
							lineColors: ['#3c8dbc'],
							gridTextColor: 'rgba(255,255,255,0.8)',
							hideHover: 'auto'
						});
					}else{
						alert(data.msg);
					}
		        },
		        error:function(){
		            alert("请求失败");
		        }
		    });
		});

		//商品
	    $('#datepicker-product').daterangepicker({
	      autoclose: true
	    }, function(start, end, label) {
  			// 发送ajax请求给服务器
			$.ajax({
		        url: url,
		        type: 'post',
		        data: {start_date:start.format('YYYY-MM-DD'), end_date:end.format('YYYY-MM-DD'), data_type:'product'},
		        dataType: 'json',
		        success: function (data) {
		        	$("#total_products").html(data.data.total_products);
		        	// 创建折线图
		        	if(data.code == 1){
						var line = new Morris.Line({
							element: 'line-chart-product',
							resize: true,
							data: data.data.products,
							xkey: 'd',
							ykeys: ['item'],
							labels: ['订单数量'],
							lineColors: ['#3c8dbc'],
							gridTextColor: 'rgba(255,255,255,0.8)',
							hideHover: 'auto'
						});
					}else{
						alert(data.msg);
					}
		        },
		        error:function(){
		            alert("请求失败");
		        }
		    });
		});
	  
		$(".knob").knob({
			draw: function() {
				// "tron" case
				if(this.$.data('skin') == 'tron') {
					var a = this.angle(this.cv) // Angle
						,
						sa = this.startAngle // Previous start angle
						,
						sat = this.startAngle // Start angle
						,
						ea // Previous end angle
						, eat = sat + a // End angle
						,
						r = false;

					this.g.lineWidth = this.lineWidth;
					this.o.cursor &&
						(sat = eat - 0.3) &&
						(eat = eat + 0.3);

					if(this.o.displayPrevious) {
						ea = this.startAngle + this.angle(this.value);
						this.o.cursor &&
							(sa = ea - 0.3) &&
							(ea = ea + 0.3);
						this.g.beginPath();
						this.g.strokeStyle = this.previousColor;
						this.g.arc(this.xy, this.xy, this.radius - this.lineWidth, sa, ea, false);
						this.g.stroke();
					}

					this.g.beginPath();
					this.g.strokeStyle = r ? this.o.fgColor : this.fgColor;
					this.g.arc(this.xy, this.xy, this.radius - this.lineWidth, sat, eat, false);
					this.g.stroke();

					this.g.lineWidth = 2;
					this.g.beginPath();
					this.g.strokeStyle = this.o.fgColor;
					this.g.arc(this.xy, this.xy, this.radius - this.lineWidth + 1 + this.lineWidth * 2 / 3, 0, 2 * Math.PI, false);
					this.g.stroke();

					return false;
				}
			}
		});
	});
</script>
<script>
	$(function() {
		"use strict";

		// 处理默认显示的最近一周的收入情况
		var income_data = '{_chart_data.income}';
		var income = eval('('+income_data+')');

		// 收入金额统计折线图
		var line1 = new Morris.Line({
//			element: 'line-chart-income',
//			resize: true,
//			data: income,
//			xkey: 'd',
//			ykeys: ['item'],
//			labels: ['收入金额'],
//			lineColors: ['#09c7fb'],
//			gridTextColor: 'rgba(255,255,255,0.8)',
//			pointStrokeColors: [''],
//			pointFillColors: ['#09c7fb'],
//			hideHover: 'auto'

		 element: 'line-chart-income',
		  data: income,
		  xkey: 'd',
			ykeys: ['item'],
			labels: ['收入金额'],
			lineColors: ['#09c7fb'],
			gridTextColor: 'rgba(255,255,255,0.8)',
			pointStrokeColors: [''],
			pointFillColors: ['#09c7fb'],
		  parseTime: false,
		  hideHover: 'auto',
		  hoverCallback: function (index, options, default_content, row) {
		    return default_content.replace("sin(x)", "1.5 + 1.5 sin(" + row.x + ")");
		  },
		  xLabelMargin: 10,
			integerYLabels: true
		});

		// 处理默认显示的最近一周的新增会员情况
		var customers_data = '{_chart_data.customers}';
		var customers = eval('('+customers_data+')');

		// 新增会员统计折线图
		var line2 = new Morris.Line({
//			element: 'line-chart-customer',
//			resize: true,
//			data: customers,
//			xkey: 'd',
//			ykeys: ['item'],
//			labels: ['新增会员'],
//			lineColors: ['#54d96e'],
//			gridTextColor: 'rgba(255,255,255,0.8)',
//			pointStrokeColors: [''],
//			pointFillColors: ['#54d96e'],
//			hideHover: 'auto'
			
			element: 'line-chart-customer',
		  data: customers,
		  xkey: 'd',
			ykeys: ['item'],
			labels: ['新增会员'],
			lineColors: ['#54d96e'],
			gridTextColor: 'rgba(255,255,255,0.8)',
			pointStrokeColors: [''],
			pointFillColors: ['#54d96e'],
		  parseTime: false,
		  hideHover: 'auto',
		  hoverCallback: function (index, options, default_content, row) {
		    return default_content.replace("sin(x)", "1.5 + 1.5 sin(" + row.x + ")");
		  },
		  xLabelMargin: 10,
			integerYLabels: true


		});

		// 处理默认显示的最近一周的订单情况
		var orders_data = '{_chart_data.orders}';
		var orders = eval('('+orders_data+')');

		// 订单统计折线图
		var line3 = new Morris.Line({
//			element: 'line-chart-order',
//			resize: true,
//			data: orders,
//			xkey: 'd',
//			ykeys: ['item'],
//			labels: ['订单数量'],
//			lineColors: ['#3c8dbc'],
//			gridTextColor: 'rgba(255,255,255,0.8)',
//			hideHover: 'auto'

			element: 'line-chart-order',
		  data: orders,
		  xkey: 'd',
			ykeys: ['item'],
			labels: ['订单数量'],
			lineColors: ['#3c8dbc'],
			gridTextColor: 'rgba(255,255,255,0.8)',
			pointStrokeColors: [''],
		  parseTime: false,
		  hideHover: 'auto',
		  hoverCallback: function (index, options, default_content, row) {
		    return default_content.replace("sin(x)", "1.5 + 1.5 sin(" + row.x + ")");
		  },
		  xLabelMargin: 10,
			integerYLabels: true

		});

		// 商品统计折线图
		var products_data = '{_chart_data.products}';
		var products = eval('('+products_data+')');
		var line4 = new Morris.Line({
			element: 'line-chart-product',
		    data: products,
		    xkey: 'd',
			ykeys: ['item'],
			labels: ['商品数量'],
			lineColors: ['#3c8dbc'],
			gridTextColor: 'rgba(255,255,255,0.8)',
			pointStrokeColors: [''],
		    parseTime: false,
		    hideHover: 'auto',
		    hoverCallback: function (index, options, default_content, row) {
		    	return default_content.replace("sin(x)", "1.5 + 1.5 sin(" + row.x + ")");
		    },
		    xLabelMargin: 10,
			integerYLabels: true
		});
			var url = "{_getTodayDataUrl}";
			$.ajax({
		        url: url,
		        type: 'post',
		        dataType: 'json',
		        success: function (data) {
			        document.getElementById("data-orders").value = data.data.today_orders;
			        document.getElementById("data-income").value = data.data.today_income;
			        document.getElementById("data-customers").value = data.data.today_customers;
		        },
		        error:function(){
		          alert("请求失败");
		        }
		    });

		// 处理今天的统计数据
		$("#today-data").click(function(){
			var url = "{_getTodayDataUrl}";
			$.ajax({
		        url: url,
		        type: 'post',
		        dataType: 'json',
		        success: function (data) {
			        document.getElementById("data-orders").value = data.data.today_orders;
			        document.getElementById("data-income").value = data.data.today_income;
			        document.getElementById("data-customers").value = data.data.today_customers;
		        },
		        error:function(){
		          alert("请求失败");
		        }
		    });
		});

		// 处理昨天的统计数据
		$("#yesterday-data").click(function(){
			var url = "{_getYesterdayDataUrl}";
			$.ajax({
		        url: url,
		        type: 'post',
		        dataType: 'json',
		        success: function (data) {
		        	//$("#data-income").val(data['data']['yesterday_income']);
			        document.getElementById("data-orders").value = data.data.yesterday_orders;
			        document.getElementById("data-income").value = data.data.yesterday_income;
			        document.getElementById("data-customers").value = data.data.yesterday_customers;
		        },
		        error:function(){
		          alert("请求失败");
		        }
		    });
		});

	});
</script>
